<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Retirement Planning Calculator ‚Äî Jonathan Parker | Triangle Families</title>
    <meta name="description" content="Calculate how much you need for retirement and create a savings plan. Free calculator for NC families.">
    <link rel="stylesheet" href="styles.css">
    <style>
        .slider-container { margin: 1rem 0; }
        .slider-container input[type="range"] { width: 100%; accent-color: var(--primary-light); }
        .slider-value { text-align: right; font-weight: 600; color: var(--primary); font-size: 0.9rem; }
        .result-highlight { font-size: 2rem; font-weight: 800; color: var(--accent); text-align: center; margin: 1rem 0; }
        .result-subtext { text-align: center; color: var(--text-light); font-size: 0.92rem; margin-bottom: 1.5rem; }
        .progress-visual { background: var(--bg); border-radius: var(--radius); padding: 1.25rem; margin: 1rem 0; border: 1px solid var(--border); }
        .progress-bar-outer { height: 12px; background: var(--border); border-radius: 6px; overflow: hidden; margin: 0.5rem 0; }
        .progress-bar-inner { height: 100%; background: linear-gradient(90deg, var(--accent), var(--primary-light)); border-radius: 6px; transition: width 0.5s ease; }
        .milestone-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin: 1.5rem 0; }
        .milestone-card { background: var(--bg-white); padding: 1.25rem; border-radius: var(--radius); border: 1px solid var(--border); text-align: center; }
        .milestone-card .age-label { font-size: 0.8rem; color: var(--text-light); text-transform: uppercase; letter-spacing: 0.5px; font-weight: 600; }
        .milestone-card .amount { font-size: 1.3rem; font-weight: 700; color: var(--primary); margin: 0.25rem 0; }
        .strategy-card { background: linear-gradient(135deg, #f0fdf4, #dcfce7); padding: 1.25rem; border-radius: var(--radius); margin: 1rem 0; border-left: 4px solid var(--accent); }
        .strategy-card h4 { color: #16a34a; margin-bottom: 0.4rem; }
        .strategy-card p { color: var(--text); font-size: 0.92rem; line-height: 1.6; }
    </style>
</head>
<body>
    <nav class="site-nav">
        <div class="nav-inner">
            <a href="index.html" class="nav-brand">
                <span class="nav-brand-name">Jonathan Parker</span>
                <span class="nav-brand-tag">Financial Educator ¬∑ Triangle NC</span>
            </a>
            <input type="checkbox" id="nav-toggle" class="nav-toggle" hidden>
            <label for="nav-toggle" class="nav-toggle-label"><span></span></label>
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="index.html#calculators" class="active">Calculators</a></li>
                <li><a href="index.html#blog">Blog</a></li>
                <li><a href="index.html#about">About</a></li>
                <li><a href="https://scheduler.zoom.us/jonathan-parker-i9rj3o/pfs-intro" target="_blank" rel="noopener" class="nav-cta">Book a Call</a></li>
            </ul>
        </div>
    </nav>

    <div class="calc-page-hero">
        <div class="container">
            <h1>üéØ Retirement Planning Calculator</h1>
            <p>See if you're on track and build a plan that actually works for your future</p>
        </div>
    </div>

    <div class="calc-container">
        <div class="calc-card">
            <form id="retirementForm">
                <div class="form-group">
                    <label for="currentAge">Current Age</label>
                    <input type="number" id="currentAge" min="18" max="80" required placeholder="35">
                </div>
                <div class="form-group">
                    <label for="retirementAge">Target Retirement Age</label>
                    <input type="number" id="retirementAge" min="40" max="85" required placeholder="65">
                </div>
                <div class="form-group">
                    <label for="currentIncome">Current Annual Income</label>
                    <input type="number" id="currentIncome" min="0" step="1000" required placeholder="75000">
                </div>
                <div class="form-group">
                    <label for="incomeReplacementRate">Income Replacement Rate (%)</label>
                    <div class="slider-container">
                        <input type="range" id="incomeReplacementRate" min="50" max="100" value="80" oninput="document.getElementById('irrValue').textContent=this.value+'%'">
                        <div class="slider-value" id="irrValue">80%</div>
                    </div>
                    <small style="color:var(--text-light);">Most retirees need 70-85% of pre-retirement income</small>
                </div>
                <div class="form-group">
                    <label for="currentSavings">Current Retirement Savings</label>
                    <input type="number" id="currentSavings" min="0" step="1000" required placeholder="50000">
                </div>
                <div class="form-group">
                    <label for="monthlyContribution">Current Monthly Contribution</label>
                    <input type="number" id="monthlyContribution" min="0" step="50" required placeholder="500">
                </div>
                <div class="form-group">
                    <label for="expectedReturn">Expected Annual Return (%)</label>
                    <div class="slider-container">
                        <input type="range" id="expectedReturn" min="4" max="12" value="8" step="0.5" oninput="document.getElementById('erValue').textContent=this.value+'%'">
                        <div class="slider-value" id="erValue">8%</div>
                    </div>
                    <small style="color:var(--text-light);">Historical S&P 500 average: ~10% (before inflation)</small>
                </div>
                <div class="form-group">
                    <label for="inflationRate">Expected Inflation (%)</label>
                    <input type="number" id="inflationRate" min="1" max="8" step="0.5" value="3" placeholder="3">
                </div>
                <button type="submit" class="btn btn-primary btn-block btn-lg">Calculate My Retirement</button>
            </form>

            <div id="results" class="calc-results" style="display:none;">
                <h2>Your Retirement Outlook</h2>
                <div id="resultContent"></div>

                <div class="disclaimer-box">
                    <strong>Important:</strong> These projections are estimates based on consistent returns and contributions. Actual returns vary year to year. This is for educational purposes ‚Äî consult a financial professional for personalized advice.
                </div>

                <div style="text-align:center; margin-top:1.5rem;">
                    <a href="https://scheduler.zoom.us/jonathan-parker-i9rj3o/pfs-intro" target="_blank" rel="noopener" class="btn btn-primary">üìÖ Let's Build Your Plan Together</a>
                </div>

                <div style="background:linear-gradient(135deg,var(--primary),var(--primary-light));color:white;padding:2rem;border-radius:var(--radius-lg);text-align:center;margin-top:1.5rem;">
                    <h4 style="margin-bottom:0.75rem;font-size:1.15rem;">üìù Get Your Full Retirement Report</h4>
                    <p style="opacity:0.9;margin-bottom:1rem;font-size:0.92rem;">Receive a detailed breakdown with savings milestones and action steps.</p>
                    <div id="retEmailStatus" style="display:none;background:var(--accent);color:white;padding:1rem;border-radius:var(--radius);margin-bottom:1rem;text-align:center;font-weight:700;">‚úÖ Report sent! Check your email.</div>
                    <form id="retEmailForm" style="display:flex;gap:0.75rem;max-width:450px;margin:0 auto;flex-wrap:wrap;">
                        <input type="email" id="retEmail" placeholder="Your email address" required style="flex:1;min-width:200px;padding:0.75rem;border:none;border-radius:var(--radius);font-size:1rem;">
                        <button type="submit" style="background:var(--accent);color:white;border:none;padding:0.75rem 1.5rem;border-radius:var(--radius);font-weight:700;cursor:pointer;white-space:nowrap;">Send My Report üìß</button>
                    </form>
                    <p style="font-size:0.78rem;margin-top:0.5rem;opacity:0.75;">Your info is secure and never shared.</p>
                </div>
            </div>
        </div>
    </div>

    <footer class="site-footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-section"><h4>Calculators</h4><ul>
                    <li><a href="insurance-calculator.html">Life Insurance</a></li>
                    <li><a href="retirement-planning-calculator.html">Retirement Planning</a></li>
                    <li><a href="college-savings-calculator.html">College Savings</a></li>
                    <li><a href="debt-payoff-calculator.html">Debt Payoff</a></li>
                    <li><a href="mortgage-calculator.html">Mortgage Affordability</a></li>
                    <li><a href="emergency-fund-calculator.html">Emergency Fund</a></li>
                </ul></div>
                <div class="footer-section"><h4>Resources</h4><ul>
                    <li><a href="https://therealhowmoneyworks.com/us/Jonathan_Parker" target="_blank" rel="noopener">Financial Planning Guide</a></li>
                    <li><a href="21-sources-of-cash.html">21 Sources of Cash Workshop</a></li>
                </ul></div>
                <div class="footer-section"><h4>Contact</h4><ul>
                    <li><a href="mailto:jlparker0106@gmail.com">‚úâÔ∏è jlparker0106@gmail.com</a></li>
                    <li><a href="https://scheduler.zoom.us/jonathan-parker-i9rj3o/pfs-intro" target="_blank" rel="noopener">üìÖ Schedule a Consultation</a></li>
                    <li class="footer-contact-item">üìç Serving the NC Triangle</li>
                </ul></div>
                <div class="footer-section"><h4>Connect</h4><ul>
                    <li><a href="https://www.facebook.com/jplarkin/" target="_blank" rel="noopener">Facebook</a></li>
                    <li><a href="https://www.linkedin.com/in/jonathan-parker-026b9511a" target="_blank" rel="noopener">LinkedIn</a></li>
                </ul></div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2026 Jonathan Parker Financial Services. All rights reserved.</p>
                <p>Licensed in North Carolina ¬∑ Not affiliated with any government agency</p>
            </div>
        </div>
    </footer>

    <a href="https://scheduler.zoom.us/jonathan-parker-i9rj3o/pfs-intro" target="_blank" rel="noopener" class="floating-cta">
        üìÖ <span class="cta-text-full">Book a Free Call</span><span class="cta-text-short">Book Call</span>
    </a>

    <script>
        document.getElementById('retirementForm').addEventListener('submit', function(e) {
            e.preventDefault();
            calculateRetirement();
        });

        function calculateRetirement() {
            const currentAge = parseInt(document.getElementById('currentAge').value);
            const retirementAge = parseInt(document.getElementById('retirementAge').value);
            const currentIncome = parseFloat(document.getElementById('currentIncome').value);
            const replacementRate = parseInt(document.getElementById('incomeReplacementRate').value) / 100;
            const currentSavings = parseFloat(document.getElementById('currentSavings').value);
            const monthlyContribution = parseFloat(document.getElementById('monthlyContribution').value);
            const expectedReturn = parseFloat(document.getElementById('expectedReturn').value) / 100;
            const inflationRate = parseFloat(document.getElementById('inflationRate').value) / 100;

            const yearsToRetirement = retirementAge - currentAge;
            const retirementYears = 30; // plan for 30 years in retirement
            const realReturn = expectedReturn - inflationRate;
            const monthlyReturn = realReturn / 12;

            // Future value of current savings
            const fvCurrentSavings = currentSavings * Math.pow(1 + realReturn, yearsToRetirement);

            // Future value of monthly contributions
            const fvContributions = monthlyContribution * ((Math.pow(1 + monthlyReturn, yearsToRetirement * 12) - 1) / monthlyReturn);

            const totalAtRetirement = fvCurrentSavings + fvContributions;

            // How much needed (using 4% rule adjusted)
            const annualNeedToday = currentIncome * replacementRate;
            const annualNeedAtRetirement = annualNeedToday * Math.pow(1 + inflationRate, yearsToRetirement);
            const totalNeeded = annualNeedAtRetirement * 25; // 4% rule

            // Gap
            const gap = totalNeeded - totalAtRetirement;
            const onTrack = gap <= 0;

            // Monthly needed to close gap
            let monthlyNeeded = 0;
            if (gap > 0) {
                monthlyNeeded = gap / ((Math.pow(1 + monthlyReturn, yearsToRetirement * 12) - 1) / monthlyReturn);
            }

            // Progress percentage
            const progressPct = Math.min((totalAtRetirement / totalNeeded) * 100, 100);

            // Milestone projections
            const milestones = [];
            const ages = [currentAge + 5, currentAge + 10, currentAge + 15, retirementAge];
            ages.forEach(age => {
                if (age > currentAge && age <= retirementAge + 5) {
                    const yrs = age - currentAge;
                    const fv1 = currentSavings * Math.pow(1 + realReturn, yrs);
                    const fv2 = monthlyContribution * ((Math.pow(1 + monthlyReturn, yrs * 12) - 1) / monthlyReturn);
                    milestones.push({ age, amount: fv1 + fv2 });
                }
            });

            const fmt = new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD', maximumFractionDigits: 0 });

            let html = '';

            // Main result
            if (onTrack) {
                html += `<div class="result-highlight" style="color:var(--accent);">You're on track! üéâ</div>`;
                html += `<div class="result-subtext">At this rate, you'll have <strong>${fmt.format(totalAtRetirement)}</strong> by age ${retirementAge}.<br>You need approximately <strong>${fmt.format(totalNeeded)}</strong>.</div>`;
            } else {
                html += `<div class="result-highlight" style="color:#dc2626;">Gap: ${fmt.format(gap)}</div>`;
                html += `<div class="result-subtext">You're projected to have <strong>${fmt.format(totalAtRetirement)}</strong> but need <strong>${fmt.format(totalNeeded)}</strong>.<br>Increase monthly savings by <strong>${fmt.format(monthlyNeeded)}/mo</strong> to close the gap.</div>`;
            }

            // Progress bar
            html += `<div class="progress-visual">
                <div style="display:flex; justify-content:space-between; font-size:0.85rem; font-weight:600;">
                    <span>Progress to Goal</span><span>${Math.round(progressPct)}%</span>
                </div>
                <div class="progress-bar-outer"><div class="progress-bar-inner" style="width:${progressPct}%"></div></div>
                <div style="display:flex; justify-content:space-between; font-size:0.82rem; color:var(--text-light); margin-top:0.25rem;">
                    <span>Projected: ${fmt.format(totalAtRetirement)}</span><span>Goal: ${fmt.format(totalNeeded)}</span>
                </div>
            </div>`;

            // Milestones
            html += `<h3 style="font-size:1.1rem; margin:1.5rem 0 0.75rem;">üìä Growth Milestones</h3>`;
            html += `<div class="milestone-grid">`;
            milestones.forEach(m => {
                html += `<div class="milestone-card">
                    <div class="age-label">Age ${m.age}</div>
                    <div class="amount">${fmt.format(m.amount)}</div>
                </div>`;
            });
            html += `</div>`;

            // Strategy tips
            html += `<h3 style="font-size:1.1rem; margin:1.5rem 0 0.75rem;">üí° Strategies to Strengthen Your Plan</h3>`;
            html += `<div class="strategy-card"><h4>Maximize Tax-Advantaged Accounts</h4><p>Max out your 401(k) match first, then fund a Roth IRA ($7,500/yr limit in 2026). Every dollar in tax-advantaged accounts works harder.</p></div>`;
            if (!onTrack) {
                html += `<div class="strategy-card"><h4>Close the Gap</h4><p>An extra ${fmt.format(monthlyNeeded)}/month gets you to your goal. Even half that makes a significant difference thanks to compounding.</p></div>`;
            }
            html += `<div class="strategy-card"><h4>Review Annually</h4><p>Life changes. Revisit this calculator every year with updated numbers. Small adjustments early beat big ones later.</p></div>`;

            document.getElementById('resultContent').innerHTML = html;
            document.getElementById('results').style.display = 'block';
            document.getElementById('results').scrollIntoView({ behavior: 'smooth' });
        }

        document.getElementById('retEmailForm').addEventListener('submit', function(e) {
            e.preventDefault();
            var email = document.getElementById('retEmail').value;
            if (!email) return;
            var btn = this.querySelector('button');
            btn.textContent = 'Sending...'; btn.disabled = true;
            fetch('https://formspree.io/f/xkovojay', {
                method: 'POST', headers: { 'Content-Type': 'application/json', 'Accept': 'application/json' },
                body: JSON.stringify({ email: email, calculator_type: 'retirement-planning', lead_source: 'calculator-results', timestamp: new Date().toISOString() })
            }).then(function(r){return r.json()}).then(function(d){ if(d.ok){ document.getElementById('retEmailStatus').style.display='block'; btn.textContent='‚úÖ Sent!'; } else { alert('Error ‚Äî try again.'); btn.textContent='Send My Report üìß'; btn.disabled=false; }}).catch(function(){ alert('Connection error.'); btn.textContent='Send My Report üìß'; btn.disabled=false; });
        });
    </script>
</body>
</html>
