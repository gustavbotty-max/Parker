<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emergency Fund Calculator ‚Äî Jonathan Parker | Triangle Families</title>
    <meta name="description" content="Calculate your ideal emergency fund amount based on expenses, job stability, and dependents. Free tool for NC families.">
    <link rel="stylesheet" href="styles.css">
    <style>
        .input-prefix-wrap { position: relative; }
        .input-prefix-wrap .prefix { position: absolute; left: 1rem; top: 50%; transform: translateY(-50%); color: var(--text-light); font-weight: 500; }
        .input-prefix-wrap input { padding-left: 2.5rem; }
        .results-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin: 1.25rem 0; }
        .result-stat { background: var(--bg); padding: 1.25rem; border-radius: var(--radius); border: 1px solid var(--border); text-align: center; }
        .result-stat h4 { font-size: 0.85rem; color: var(--text-light); margin-bottom: 0.25rem; }
        .result-stat .amount { font-size: 1.5rem; font-weight: 800; color: var(--accent); }
        .result-stat .note { font-size: 0.82rem; color: var(--text-lighter); margin-top: 0.25rem; }
        .recommendation { background: linear-gradient(135deg, #f0fdf4, #dcfce7); padding: 1.25rem; border-radius: var(--radius); margin: 1rem 0; border-left: 4px solid var(--accent); }
        .recommendation h4 { color: #16a34a; margin-bottom: 0.4rem; }
        .recommendation p { font-size: 0.92rem; color: var(--text); line-height: 1.6; }
        .action-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 1rem; margin: 1rem 0; }
        .action-card { background: var(--bg-white); padding: 1.25rem; border-radius: var(--radius); border: 1px solid var(--border); }
        .action-card h4 { font-size: 0.95rem; color: var(--primary); margin-bottom: 0.4rem; }
        .action-card p { font-size: 0.85rem; color: var(--text-light); line-height: 1.6; }
        .loading { display: none; text-align: center; padding: 1.5rem; }
        .spinner { width: 36px; height: 36px; border: 3px solid var(--border); border-top: 3px solid var(--primary); border-radius: 50%; animation: spin 1s linear infinite; margin: 0 auto 0.75rem; }
        @keyframes spin { to { transform: rotate(360deg); } }
        .email-capture { background: linear-gradient(135deg, var(--primary), var(--primary-light)); color: white; padding: 2rem; border-radius: var(--radius-lg); text-align: center; margin-top: 1.5rem; }
        .email-capture h4 { margin-bottom: 0.75rem; font-size: 1.15rem; }
        .email-capture p { opacity: 0.9; margin-bottom: 1rem; font-size: 0.92rem; }
        .email-row { display: flex; gap: 0.75rem; max-width: 450px; margin: 0 auto; flex-wrap: wrap; }
        .email-row input { flex: 1; min-width: 200px; padding: 0.75rem; border: none; border-radius: var(--radius); font-size: 1rem; }
        .email-row button { background: var(--accent); color: white; border: none; padding: 0.75rem 1.5rem; border-radius: var(--radius); font-weight: 700; cursor: pointer; white-space: nowrap; transition: var(--transition); }
        .email-row button:hover { background: var(--accent-hover); }
        #formspreeStatus { display: none; background: var(--accent); color: white; padding: 1rem; border-radius: var(--radius); margin-bottom: 1rem; text-align: center; }
    </style>
</head>
<body>
    <nav class="site-nav"><div class="nav-inner">
        <a href="index.html" class="nav-brand"><span class="nav-brand-name">Jonathan Parker</span><span class="nav-brand-tag">Financial Educator ¬∑ Triangle NC</span></a>
        <input type="checkbox" id="nav-toggle" class="nav-toggle" hidden><label for="nav-toggle" class="nav-toggle-label"><span></span></label>
        <ul class="nav-links">
            <li><a href="index.html">Home</a></li><li><a href="index.html#calculators" class="active">Calculators</a></li>
            <li><a href="index.html#blog">Blog</a></li><li><a href="index.html#about">About</a></li>
            <li><a href="https://scheduler.zoom.us/jonathan-parker-i9rj3o/pfs-intro" target="_blank" rel="noopener" class="nav-cta">Book a Call</a></li>
        </ul>
    </div></nav>

    <div class="calc-page-hero">
        <div class="container">
            <h1>üí∞ Emergency Fund Calculator</h1>
            <p>Secure your family's financial future with the right emergency savings</p>
        </div>
    </div>

    <div class="calc-container">
        <div class="calc-card">
            <h3 style="margin-bottom:0.25rem;">How Much Should You Save?</h3>
            <p style="color:var(--text-light); font-size:0.92rem; margin-bottom:1.5rem;">Based on your expenses, job stability, and family size.</p>

            <form id="emergencyFundForm">
                <div class="form-group">
                    <label for="monthlyIncome">Monthly Household Income</label>
                    <div class="input-prefix-wrap"><span class="prefix">$</span><input type="number" id="monthlyIncome" min="0" step="any" required placeholder="5000"></div>
                </div>
                <div class="form-group">
                    <label for="monthlyExpenses">Monthly Essential Expenses</label>
                    <div class="input-prefix-wrap"><span class="prefix">$</span><input type="number" id="monthlyExpenses" min="0" step="any" required placeholder="4000"></div>
                    <small style="color:var(--text-light);">Rent/mortgage, utilities, food, insurance, debt payments</small>
                </div>
                <div class="form-group">
                    <label for="jobStability">Job Stability</label>
                    <select id="jobStability" required>
                        <option value="">Select your job security level</option>
                        <option value="high">Very Stable (government, healthcare)</option>
                        <option value="medium">Moderately Stable (corporate, stable industry)</option>
                        <option value="low">Variable Income (freelancer, commission-based)</option>
                        <option value="unstable">High Risk (industry uncertainty, recent changes)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="dependents">Number of Dependents</label>
                    <input type="number" id="dependents" min="0" max="10" required placeholder="2">
                </div>
                <div class="form-group">
                    <label for="currentSavings">Current Emergency Savings</label>
                    <div class="input-prefix-wrap"><span class="prefix">$</span><input type="number" id="currentSavings" min="0" step="any" placeholder="5000"></div>
                </div>
                <div class="form-group">
                    <label for="timeframe">Target Timeline</label>
                    <select id="timeframe" required>
                        <option value="">How quickly to build this?</option>
                        <option value="6">6 months (Aggressive)</option>
                        <option value="12">12 months (Moderate)</option>
                        <option value="18">18 months (Comfortable)</option>
                        <option value="24">24 months (Extended)</option>
                    </select>
                </div>

                <button type="submit" class="btn btn-primary btn-block btn-lg">Calculate My Emergency Fund</button>

                <div class="loading" id="loading">
                    <div class="spinner"></div>
                    <p style="color:var(--text-light); font-size:0.9rem;">Calculating your recommendations...</p>
                </div>
            </form>

            <div id="resultsSection" style="display:none; margin-top:2rem; padding-top:2rem; border-top:2px solid var(--border);">
                <h2 style="text-align:center; color:var(--accent); margin-bottom:1rem;">üè• Your Emergency Fund Plan</h2>
                <div class="results-grid" id="resultsGrid"></div>
                <div class="recommendation" id="recommendation"></div>
                <h3 style="font-size:1.1rem; margin:1.5rem 0 0.75rem;">üí° Action Plan</h3>
                <div class="action-grid" id="actionPlanGrid"></div>
            </div>

            <div id="emailSection" class="email-capture" style="display:none;">
                <h4>üìù Want Your Detailed Plan?</h4>
                <p>Get a personalized emergency fund savings plan with worksheets and progress trackers.</p>
                <div id="formspreeStatus"><div style="font-size:1.5rem;">‚úÖ</div><p><strong>Plan Sent!</strong> Check your email.</p></div>
                <form id="emailForm">
                    <div class="email-row">
                        <input type="email" id="userEmail" placeholder="Your email address" required>
                        <input type="hidden" name="calculator_type" value="emergency-fund">
                        <input type="hidden" id="hiddenMonthlyExpenses">
                        <input type="hidden" id="hiddenRecommendedFund">
                        <input type="hidden" id="hiddenCurrentGap">
                        <button type="submit">Send My Plan üìß</button>
                    </div>
                    <p style="font-size:0.78rem; margin-top:0.5rem; opacity:0.75;">Your info is secure and never shared.</p>
                </form>
            </div>
        </div>

        <div class="disclaimer-box" style="margin-top:1.5rem;">
            <strong>üìã Disclaimer:</strong> This calculator provides estimates based on general financial guidelines. Individual circumstances vary. Consult a financial professional for personalized advice. Jonathan Parker is a licensed insurance representative in North Carolina.
        </div>
    </div>

    <footer class="site-footer"><div class="container"><div class="footer-grid">
        <div class="footer-section"><h4>Calculators</h4><ul>
            <li><a href="insurance-calculator.html">Life Insurance</a></li><li><a href="retirement-planning-calculator.html">Retirement Planning</a></li>
            <li><a href="college-savings-calculator.html">College Savings</a></li><li><a href="debt-payoff-calculator.html">Debt Payoff</a></li>
            <li><a href="mortgage-calculator.html">Mortgage Affordability</a></li><li><a href="emergency-fund-calculator.html">Emergency Fund</a></li>
        </ul></div>
        <div class="footer-section"><h4>Resources</h4><ul>
            <li><a href="https://therealhowmoneyworks.com/us/Jonathan_Parker" target="_blank" rel="noopener">Financial Planning Guide</a></li>
            <li><a href="21-sources-of-cash.html">21 Sources of Cash Workshop</a></li>
        </ul></div>
        <div class="footer-section"><h4>Contact</h4><ul>
            <li><a href="mailto:jlparker0106@gmail.com">‚úâÔ∏è jlparker0106@gmail.com</a></li>
            <li><a href="https://scheduler.zoom.us/jonathan-parker-i9rj3o/pfs-intro" target="_blank" rel="noopener">üìÖ Schedule a Consultation</a></li>
            <li class="footer-contact-item">üìç Serving the NC Triangle</li>
        </ul></div>
        <div class="footer-section"><h4>Connect</h4><ul>
            <li><a href="https://www.facebook.com/jplarkin/" target="_blank" rel="noopener">Facebook</a></li>
            <li><a href="https://www.linkedin.com/in/jonathan-parker-026b9511a" target="_blank" rel="noopener">LinkedIn</a></li>
        </ul></div>
    </div><div class="footer-bottom">
        <p>&copy; 2026 Jonathan Parker Financial Services. All rights reserved.</p>
        <p>Licensed in North Carolina ¬∑ Not affiliated with any government agency</p>
    </div></div></footer>

    <a href="https://scheduler.zoom.us/jonathan-parker-i9rj3o/pfs-intro" target="_blank" rel="noopener" class="floating-cta">
        üìÖ <span class="cta-text-full">Book a Free Call</span><span class="cta-text-short">Book Call</span>
    </a>

    <script>
        const fmt = new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD', maximumFractionDigits: 0 });

        document.getElementById('emergencyFundForm').addEventListener('submit', function(e) {
            e.preventDefault();
            document.getElementById('loading').style.display = 'block';
            document.getElementById('resultsSection').style.display = 'none';
            setTimeout(() => {
                calculateEmergencyFund();
                document.getElementById('loading').style.display = 'none';
            }, 800);
        });

        function calculateEmergencyFund() {
            const monthlyIncome = parseFloat(document.getElementById('monthlyIncome').value) || 0;
            const monthlyExpenses = parseFloat(document.getElementById('monthlyExpenses').value) || 0;
            const jobStability = document.getElementById('jobStability').value;
            const dependents = parseInt(document.getElementById('dependents').value) || 0;
            const currentSavings = parseFloat(document.getElementById('currentSavings').value) || 0;
            const timeframe = parseInt(document.getElementById('timeframe').value) || 12;

            let monthsNeeded = 3;
            switch (jobStability) {
                case 'high': monthsNeeded = 3; break;
                case 'medium': monthsNeeded = 4; break;
                case 'low': monthsNeeded = 6; break;
                case 'unstable': monthsNeeded = 9; break;
            }
            monthsNeeded += dependents * 0.5;
            monthsNeeded = Math.min(monthsNeeded, 12);

            const targetFund = monthlyExpenses * monthsNeeded;
            const remainingGap = Math.max(targetFund - currentSavings, 0);
            const monthlySavingsNeeded = remainingGap / timeframe;
            const savingsRate = monthlyIncome > 0 ? (monthlySavingsNeeded / monthlyIncome) * 100 : 0;

            // Display
            document.getElementById('resultsGrid').innerHTML = `
                <div class="result-stat"><h4>Target Emergency Fund</h4><div class="amount">${fmt.format(targetFund)}</div><div class="note">${Math.round(monthsNeeded * 10) / 10} months of expenses</div></div>
                <div class="result-stat"><h4>Recommended Range</h4><div class="amount">${fmt.format(monthlyExpenses * 3)} ‚Äì ${fmt.format(targetFund)}</div><div class="note">3‚Äì${Math.round(monthsNeeded)} months typical</div></div>
                <div class="result-stat"><h4>Monthly Savings Needed</h4><div class="amount">${fmt.format(monthlySavingsNeeded)}</div><div class="note">Over ${timeframe} months</div></div>
                <div class="result-stat"><h4>Gap to Fill</h4><div class="amount">${fmt.format(remainingGap)}</div><div class="note">${currentSavings > 0 ? 'Additional needed' : 'Total needed'}</div></div>`;

            let rec = '';
            if (remainingGap <= 0) {
                rec = `<h4>üéâ Congratulations!</h4><p>You've hit your target! Consider moving excess to higher-yield investments while maintaining easy access. Focus on other goals like retirement.</p>`;
            } else if (savingsRate <= 15) {
                rec = `<h4>üí™ Achievable Goal!</h4><p>A ${Math.round(savingsRate)}% savings rate is very manageable. Automate transfers to a high-yield savings account and watch it grow.</p>`;
            } else if (savingsRate <= 25) {
                rec = `<h4>üèÉ Requires Focus</h4><p>At ${Math.round(savingsRate)}%, this is ambitious but doable. Look for ways to cut expenses or boost income. Start with 3 months and build up.</p>`;
            } else {
                rec = `<h4>üìà Consider Adjusting</h4><p>At ${Math.round(savingsRate)}% savings rate, consider extending your timeline or setting a smaller interim goal first (e.g., $1,000 starter fund).</p>`;
            }
            document.getElementById('recommendation').innerHTML = rec;

            document.getElementById('actionPlanGrid').innerHTML = `
                <div class="action-card"><h4>Week 1: Set Up</h4><p>Open a high-yield savings account (4%+ APY). Set up automatic ${fmt.format(monthlySavingsNeeded)} monthly transfer.</p></div>
                <div class="action-card"><h4>Month 1: Build Base</h4><p>Save first month of expenses: ${fmt.format(monthlyExpenses)}. Track spending to refine your number.</p></div>
                <div class="action-card"><h4>Months 2‚Äì${Math.min(timeframe, 6)}: Core Fund</h4><p>Build to 3+ months: ${fmt.format(monthlyExpenses * 3)}. Don't dip into it!</p></div>
                <div class="action-card"><h4>Monthly Review</h4><p>Check progress, adjust contributions. Look for income boosts to accelerate.</p></div>`;

            document.getElementById('hiddenMonthlyExpenses').value = monthlyExpenses;
            document.getElementById('hiddenRecommendedFund').value = Math.round(targetFund);
            document.getElementById('hiddenCurrentGap').value = Math.round(remainingGap);

            document.getElementById('resultsSection').style.display = 'block';
            document.getElementById('emailSection').style.display = 'block';
            document.getElementById('resultsSection').scrollIntoView({ behavior: 'smooth' });
        }

        document.getElementById('emailForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const email = document.getElementById('userEmail').value;
            if (!email || !email.includes('@')) { alert('Please enter a valid email.'); return; }

            const btn = this.querySelector('button');
            const orig = btn.innerHTML;
            btn.innerHTML = 'Sending... ‚è≥';
            btn.disabled = true;

            fetch('https://formspree.io/f/xkovojay', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json', 'Accept': 'application/json' },
                body: JSON.stringify({
                    email, calculator_type: 'emergency-fund', lead_source: 'calculator-results',
                    monthly_expenses: document.getElementById('hiddenMonthlyExpenses').value,
                    recommended_fund: document.getElementById('hiddenRecommendedFund').value,
                    current_gap: document.getElementById('hiddenCurrentGap').value,
                    timestamp: new Date().toISOString()
                })
            })
            .then(r => r.json())
            .then(data => {
                if (data.ok) {
                    document.getElementById('formspreeStatus').style.display = 'block';
                    btn.textContent = '‚úÖ Sent!';
                } else { alert('Error submitting. Please try again.'); }
            })
            .catch(() => alert('Connection error. Try again or email directly.'))
            .finally(() => { btn.innerHTML = orig; btn.disabled = false; });
        });
    </script>
</body>
</html>
